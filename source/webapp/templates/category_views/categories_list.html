{% extends 'base.html' %}
{% block title %}Список категорий{% endblock %}
{% block content %}
    <div class="container">
        {#  Форма поиска программ #}
        <form action='{% url 'webapp:search_view_skill' %}' method="GET" accept-charset="utf-8"
              class="form-inline my-2 my-lg-0">
            <div>
                <input class="form-control mr-sm-2 shadow-none"
                       name="q"
                       id="field"
                       value="{{ request.GET.q }}"
                       type="text"
                       placeholder="Найти..."
                       aria-label="Найти...">
                <button class="btn btn-outline-dark" type="submit">Поиск</button>
            </div>
        </form>
        <a href="{% url 'webapp:categories_create' %}" class="btn btn-primary btn-block d-block mt-3 mb-3 w-25">
            Добавить категорию</a>
        {% for categories in categories_list %}
            <div class="border-bottom w-75 pb-2 mb-1">
                <a href="{% url 'webapp:categories_detail' categories.pk %}" class="text-decoration-none text-dark">
                    <p class="text-wrap d-block mb-0">{{ categories.pk }}. {{ categories.name }}</p>
                </a>
                <p class="d-block pb-0 mb-0 small font-weight-bold mt-1 ml-3">Код категории: <span
                        class="badge badge-primary">{{ categories.code_category }}</span></p>
                <a class="text-decoration-none small text-muted d-inline-block pb-0 mb-0 font-weight-light ml-3 mt-1"
                   href="{% url 'webapp:categories_update' categories.pk %}">Редактировать</a>
                <a href="#"
                   class="text-decoration-none small text-muted d-inline-block pb-0 mb-0 font-weight-light ml-1 mt-1"
                   data-toggle="modal" data-target="#deleteModal_{{ categories.pk }}" style="width: 15%"
                   data-delete-url="{% url 'webapp:categories_delete' categories.pk %}">Удалить</a>
            </div>
            {#      Модалка удаления категории      #}
            <div class="modal fade" id="deleteModal_{{ categories.pk }}" tabindex="-1" role="dialog"
                 aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Удаление категории</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body p-0 m-0">
                            <div class="modal-body">
                                <p class="d-block text-center mb-1">Вы уверены что хотите удалить категорию
                                    <span class="d-block font-weight-bold text-center mb-3">{{ categories.name }}</span></p>
                                <div class="text-center">
                                <a class="btn btn-primary modal_btn w-25"
                                   href="{% url 'webapp:categories_delete' categories.pk %}">Да</a>
                                <a class="btn btn-danger modal_btn w-25"
                                   href="{% url 'webapp:categories_list' %}">Нет</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {#            #}
        {% endfor %}
    </div>
{% endblock %}
{% block scripts %}
    <script src=../../static/js/check_find_input_is_not_null/check_find_input_is_not_null.js></script>
{% endblock %}

{% extends 'base.html' %}
{% block title %}Профиль ребёнка{% endblock %}
{% block content %}
    <div class="container">
        <h2 class="text-center">Личный профиль ребёнка</h2>
        {% if child.third_name %}
            <p class="font-weight-bold">ФИО ребенка: <span
                    class="font-weight-normal">{{ child.last_name }} {{ child.first_name }} {{ child.third_name }}</span>
            </p>
        {% else %}
            <p class="font-weight-bold">ФИО ребенка: <span
                    class="font-weight-normal">{{ child.last_name }} {{ child.first_name }}</span></p>
        {% endif %}

        {% if child.third_name %}
            <p class="font-weight-bold">Год рождения: <span class="font-weight-normal">{{ child.birthday }}</span></p>
        {% else %}
            <p class="font-weight-bold">Год рождения: <span class="font-weight-normal">Год рождения не указан</span></p>
        {% endif %}

        <p class="font-weight-bold">Возраст: <span class="font-weight-normal">{{ child.age }}</span></p>

        {% if child.address %}
            <p class="font-weight-bold">Адрес проживания: <span class="font-weight-normal">{{ child.address }}</span>
            </p>
        {% else %}
            <p class="font-weight-bold">Адрес проживания: <span
                    class="font-weight-normal">Адрес проживания не указан</span></p>
        {% endif %}

        {% if child.characteristic %}
            <p class="font-weight-bold">Характеристика: <span
                    class="font-weight-normal">{{ child.characteristic }}</span></p>
        {% else %}
            <p class="font-weight-bold">Характеристика: <span
                    class="font-weight-normal">Характеристика отсутствует</span></p>
        {% endif %}

        {% if child.preferences %}
            <p class="font-weight-bold">Предпочтения: <span class="font-weight-normal">{{ child.preferences }}</span>
            </p>
        {% else %}
            <p class="font-weight-bold">Предпочтения: <span class="font-weight-normal">Предпочтения отсутствуют</span>
            </p>
        {% endif %}

        {% if child.second_parent %}
            <p class="font-weight-bold">Родители: <span
                    class="font-weight-normal">{{ child.first_parent }}, {{ child.second_parent }}</span></p>
        {% else %}
            <p class="font-weight-bold">Родители: <span class="font-weight-normal">{{ child.first_parent }}</span></p>
        {% endif %}

        {% if child.contacts %}
            <p class="font-weight-bold">Контакты: <span class="font-weight-normal">{{ child.contacts }}</span></p>
        {% else %}
            <p class="font-weight-bold">Контакты: <span class="font-weight-normal">Контакты не указаны</span></p>
        {% endif %}

        <p class="font-weight-bold">Дата создания профиля ребенка: <span
                class="font-weight-normal">{{ child.created_date }}</span></p>
        <p class="font-weight-bold">Дата последнего редактирования профиля ребенка: <span
                class="font-weight-normal">{{ child.edited_date }}</span></p>
        <div class="text-center">
            <a role="button" class="btn btn-success px-2 py-0 m-2" href={% url 'webapp:child_update' child.pk %}>Редактировать
                профиль</a>
            <a href="#" data-toggle="modal" data-target="#deleteModal"
               data-delete-url="{% url 'webapp:child_delete' child.pk %}"
               class="btn btn-danger px-2 py-0 m-2">Удалить профиль</a>
        </div>
        <h3 class="text-center mt-4">Программы ребёнка</h3>

        <ul class="font-weight-bold"> Открытые программы:
            <p id=01 class="text-dark font-weight-normal"></p>
            {% for program in child.child_in_program.all %}
                {% if program.status == True %}
                    <a id=001 class="font-weight-normal ml-4"
                       href={% url 'webapp:program_detail' program.pk %}>{{ program.name }}</a>
                {% else %}
                {% endif %}
            {% endfor %}
        </ul>

        <ul class="font-weight-bold">Закрытые программы:
            <p id=02 class="text-dark font-weight-normal"></p>
            {% for program in child.child_in_program.all %}
                {% if program.status != True %}
                    <a id=002 class="font-weight-normal ml-4"
                           href={% url 'webapp:program_detail' program.pk %}>{{ program.name }}</a>
                {% else %}
                {% endif %}
            {% endfor %}
        </ul>
    </div>

    <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Вы уверены что хотите удалить ребёнка из базы
                        данных?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="{% url 'webapp:child_delete' child.pk %}" method="POST">
                        {% csrf_token %}
                        <div class="text-center">
                            <button class="btn btn-danger m-2">Удалить</button>
                            <a href="#" class="btn btn-secondary m-2" data-dismiss="modal">Закрыть</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
